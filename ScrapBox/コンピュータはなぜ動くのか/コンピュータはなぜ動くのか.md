# コンピュータはなぜ動くのか

## 要約・感想

- [ScrapBox](https://scrapbox.io/moch/%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AF%E3%81%AA%E3%81%9C%E5%8B%95%E3%81%8F%E3%81%AE%E3%81%8B)

- どちらかというと図が多いのでScrapBoxにぺたぺた貼りながらまとめていく
- コンピュータとプログラムの原則、ハードウェアの話から始まり、実際に回路図を作るなど可視化しながら仕組みを追いかけることができた
- 模擬的にマイコンを紙の回路図を使って作る
  - 分からないなりに楽しめた
  - 登場人物が意外と少ないのでシンプル
  - 原則を再確認できる（コンピュータは入力→演算→出力する装置である）
- プログラムをマシン語に自分で翻訳してみるというのも、考えてみたら単純な話ではあるがやってみるとより腹落ちした感じがする
  - プログラムの中身はアドレスと処理の羅列であることなど
- 意識せずに受け止めていたこと（プログラムの流れなど）も改めてコンピュータ側の都合にまで立ち返って考えることができたのがよかった

### メモ

#### アルゴリズム

- しっかり学びたいところ
- 人間の思考方法ではなく、あくまでコンピュータが演算するという前提を忘れない
  - 例：連立方程式の解き方→人間が解く時のように考えてしまう
- アルゴリズムを考えるときは紙に書き出す
  - 紙に書く、というのはプリンシプルでも出てきた
  - 書き出しながら手を動かして考えることを習慣づけたい

#### データ構造

- メモリとデータの関係を考えるのは大切
  - 例えば変数と配列ではメモリの確保の仕方が異なるとか
  > 変数の実体は変数のサイズで確保されたメモリ領域
  > 配列の実体は特定のサイズのメモリ領域を連続的に確保したもの
  >プログラマは、変数aが何番地のメモリー領域になるのかを意識する必要がありません。プログラムの実行時にOSが、それまで未使用だったメモリー領域の一部を変数aのために割り当ててくれるからです。このように、たった1個の変数がプログラムにおけるデータの最小単位であり、それが物理的なメモリー領域に対応します
  - この辺り、プログラミングを支える技術にも出てきた
    - 何度目目かなのでしっくりくる
  - データ構造の基本は、配列である
- 単語　pudhとpop
  - pudh データを格納する
  - pop データを取り出す

### 9章 TCP/IPの話

この章を読んで実際にルーティングテーブルとかを見てみると、TCP/IPの読書会でやっているところがなんとなく頭に浮かんでよかった。

- win前提なのでコマンドが微妙に異なる
  - `ifconfig` で情報取得
  - `traceroute www.google.co.jp` でアクセスのルートが見れる
  - `netstat -rn` でネットワークテーブルが見れる
- DHCP=Dynamic Host Configuration Protocol、動的にホストを設定するプロトコル
- DNS=Domain Name System、ホスト名をIPアドレスに変換してくれるサーバー
  - この変換のことを名前解決という
- APR=Address Resolution Protocol、IPアドレスをMACアドレスに変換する
  - `arp -a` でARPキャッシュテーブル（IPアドレスをMACアドレスの対応表）が調べられる
- プロトコル＝約束事
  - TCP/IPはTCPというプロトコルとIPというプロトコルを一緒に使っているという意味
  - IP＝通信先の相手をIPアドレスで指定してルーティングで通信していく
  - TCP=データの送信者と受信者がお互いに確認をとりながら（ハンドシェイク）通信する
    - パケットという単位で分割して送信する仕組みもTCP
- プロトコルを守る＝データの形の揃えるということ
  - TCPプログラムでTCPの約束を守るための情報が付加される
  - IPプログラムでIPの約束事を守るための情報がさらに付加される
  - こうして完成されたデータはぱ絵ケット単位で分割して送信される
- ポート番号＝TCPポート番号
